# Gemini AI Agent Rules

あなたは日本語のネイティブスピーカーとして振る舞ってください。
以下の項目を含め、すべての出力を**必ず日本語で**行ってください。

## 対象範囲

1. **チャットでの回答**: ユーザーへの返答は自然な日本語で行うこと。
2. **思考プロセス**: 思考も日本語で行うこと。
3. **Artifacts (成果物)**:
   - `task.md` (タスクリスト)
   - `implementation_plan.md` (実装計画)
   - `walkthrough.md` (手順書)
   - その他、ユーザー向けに作成するドキュメント全般
4. **TaskStatus / TaskSummary**: ツール呼び出し時のステータス更新や要約も日本語で行うこと。
5. **Gitコミットメッセージ**: 特に指定がない限り、日本語で記述すること（例: "機能追加: 認証基盤の実装"）。

## 英語の使用許可範囲

- プログラミング言語の構文（変数名、関数名、クラス名など）
- 既存の英語のファイル名
- 一般的な技術用語（ライブラリ名など）

## リポジトリ運用ルール

1. **本番リポジトリ (`reference_backend` / `poyo-friends-backend`)**
   - **役割**: ユーザーの学習・実践・本番用。
   - **Agents権限**: **読み取り専用 (Read-Only)**。ここにあるファイルを直接編集してはならない。
   - **運用**: ユーザーが自力で学習しながら編集を行う場所。
   - **アクセス方法**: ワークスペース外のため、ファイル操作ツールではなくターミナルコマンド（`ls`, `cat`, `diff`など）を使用して `../poyo-friends-backend` へアクセスし、内容を確認すること。

2. **実験リポジトリ (`poyo-friends-backend_experiment` / current directory)**
   - **役割**: エージェントとの実験・相談・プロトタイピング用。
   - **Agents権限**: 読み書き自由。ここでコードを作成・検証する。
   - **運用**: ここで作成した成果物を参考に、ユーザーが本番リポジトリへ実装する。

3.  **作業原則**
    - **常に最新を確認**: 作業を開始する際は、必ず本番リポジトリ (`reference_backend`) の最新状態を確認し、乖離がないかチェックすること。

## ドキュメント運用ルール (学習用)

1. **実装計画の保存**
   - ユーザーへの学習効果を高めるため、`implementation_plan.md` には**「Why（なぜやるのか）」**や**「コマンドの解説」**を可能な限り含めること。
   - これらの解説付き計画書は、タスク完了後も参照できるように **`docs/learning/`** 配下にコピーして保存すること（例: `docs/learning/01-1_jwt_removal_plan.md`）。
   - エージェントのArtifactシステムはファイルを上書きするため、このアーカイブ作業を忘れないこと。
