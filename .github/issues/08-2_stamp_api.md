# スタンプAPI実装

## 概要
<!-- 何を実装するのか簡潔に記載 -->
スタンプ一覧・送信・メッセージ一覧取得のAPIを実装する。

## 目的・背景
<!-- なぜこの機能が必要か、どんな課題を解決するか -->
ルーム内でスタンプを使ったコミュニケーションを可能にする。

## 受け入れ基準
<!-- この機能が完成したと判断できる条件 -->
- [ ] スタンプ一覧APIが実装されている
- [ ] スタンプ送信APIが実装されている
- [ ] メッセージ一覧APIが実装されている
- [ ] APIテストが書かれている

## API仕様
<!-- エンドポイント、メソッド、リクエスト/レスポンス形式 -->

### エンドポイント
```
GET /api/v1/stamps                           # スタンプ一覧取得
POST /api/v1/rooms/:room_id/messages         # スタンプメッセージ送信
GET /api/v1/rooms/:room_id/messages          # メッセージ一覧取得
DELETE /api/v1/rooms/:room_id/messages/:id   # メッセージ削除
```

### リクエスト（スタンプ送信）
```json
{
  "message": {
    "stamp_id": 1
  }
}
```

### レスポンス（メッセージ一覧）
```json
{
  "messages": [
    {
      "id": 1,
      "user": { "id": 1, "name": "田中太郎" },
      "stamp": { "id": 1, "name": "いいね！", "image_url": "/stamps/thumbs_up.png" },
      "created_at": "2025-01-10T15:30:00.000Z"
    }
  ],
  "pagination": {
    "current_page": 1,
    "total_pages": 1,
    "total_count": 1
  }
}
```

## 認可・認証要件
- スタンプ一覧は誰でも閲覧可能
- メッセージ送信・取得はルームメンバーのみ
- メッセージ削除は送信者本人のみ

## 依存関係
- Issue #08-1（Stamp/RoomMessageモデル）が完了していること

## ブランチ
`feature/08-2-stamp-api`

## テスト計画
- [ ] APIテスト
  - [ ] スタンプ一覧取得
  - [ ] メッセージ送信成功
  - [ ] メッセージ一覧取得
  - [ ] 非メンバーの送信失敗
